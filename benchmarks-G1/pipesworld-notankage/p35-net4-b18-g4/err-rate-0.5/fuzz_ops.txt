<Add Atom on(?next-last-batch-atom, ?to-area) to Prec: push-end>
<Add Atom follow(?first-batch-atom, ?first-batch-atom) to Prec: pop-end>
<Add Atom is-product(?batch-atom-in, ?product-last-batch) to Prec: pop-start>
